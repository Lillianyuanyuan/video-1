webpackJsonp([1],{"+HSz":function(t,e,i){"use strict";e.a={name:"progress",props:["perc"],data:function(){return{qx:95,range:10}},methods:{_flow:function(){var t=this,e=this.qx+this.range/2,i=this.qx-this.range/2,n=!0;!function s(){n?t.qx+=.1:t.qx-=.1,t.qx>=e?n=!1:t.qx<=i&&(n=!0),requestAnimationFrame(s)}()}},mounted:function(){this._flow()},computed:{bottom:function(){return 100-100*(this.perc||.55)},d:function(){return"M0 "+this.bottom+"L0 100L100 100L100 "+this.bottom+"Q"+this.qx+" "+(this.bottom+10)+" 90 "+this.bottom+"T80 "+this.bottom+"T70 "+this.bottom+"T60 "+this.bottom+"T50 "+this.bottom+"T40 "+this.bottom+"T30 "+this.bottom+"T20 "+this.bottom+"T10 "+this.bottom+"T0 "+this.bottom}}}},"/4i9":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("tab"),t._v(" "),i("keep-alive",[i("router-view",{staticClass:"z"})],1)],1)},s=[],a={render:n,staticRenderFns:s};e.a=a},"772a":function(t,e,i){"use strict";var n=i("BO1k"),s=i.n(n);e.a={name:"tmp",data:function(){return{}},mounted:function(){function t(t){var e=void 0;e="string"==typeof t?document.querySelector(t):t;var i=function(){this.obj=e};return i.prototype={ev:function(t,e){this.obj.addEventListener(t,e)},s:function(t){for(var e in t)this.obj.style[e]=t[e]},html:function(t){this.obj.innerHTML=t.innerHTML},setA:function(t,e){this.obj.setAttribute(t,e)}},new i}console.log;!function(){t("#audio").ev("click",function(){fetch("/media/audio").then(function(t){return t.json()}).then(function(e){var i=document.createElement("ul");for(var n in e){var s=n,a=document.createElement("li");a.setAttribute("data-id",e[n].id),a.innerText=s,i.appendChild(a)}t("#audio_l").html(i)})}),t("#video").ev("click",function(){fetch("/media/video").then(function(t){return t.json()}).then(function(e){console.log(e);var i=document.createElement("ul");for(var n in e){var s=n,a=document.createElement("li");a.setAttribute("data-id",e[n].id),a.innerText=s,i.appendChild(a)}t("#video_l").html(i)})})}(),function(){function e(e){e?(t("#close").s({width:"100%"}),t("aside section").s({width:"100%"})):(t("#close").s({width:"0"}),t("aside section").s({width:"0"}))}function i(){function i(){if(n>100?r+=2:(n+=1,r+=1),t("aside svg path").setA("d","M0,0 L0,100 Q"+n+","+r+" 100,0"),r>350){cancelAnimationFrame(c),a=!1;var e=!0,d=!1,l=void 0;try{for(var u,h=s()(o);!(e=(u=h.next()).done);e=!0){u.value.emit()}}catch(t){d=!0,l=t}finally{try{!e&&h.return&&h.return()}finally{if(d)throw l}}}else c=requestAnimationFrame(i)}var n=-50,r=-50,c=void 0;i(),setTimeout(function(){e(!0)},1500)}function n(){function e(){i>-100?(i-=2,n-=2):(i-=1,n-=1),t("aside svg path").setA("d","M0,0 L0,100 Q"+i+","+n+" 100,0"),n<-20?(cancelAnimationFrame(s),t("#open").s({transform:"rotate(0) scale(1)"}),t("aside").s({width:"0"})):s=requestAnimationFrame(e)}o=[];var i=100,n=250,s=void 0;e()}var a=!1,o=[];t("#open").ev("click",function(){a||(a=!0,t(this).s({transform:"rotate(360deg) scale(0)"}),setTimeout(function(){t("aside").s({width:"17vw"}),i()},1e3))}),t("#close").ev("click",function(){e(!1),a?o.push({emit:function(){n()}}):n()})}()}}},"8Sqt":function(t,e){},DZMV:function(t,e){},KupL:function(t,e,i){"use strict";var n=i("gRE1"),s=i.n(n);e.a={name:"loadprogress",props:["playing"],data:function(){return{src:"",videoList:[],url:"/media/video",mediaUrl:"/video/",icon:!0}},methods:{getdata:function(){var t=this;fetch(this.url).then(function(t){return t.json()}).then(function(e){e=s()(e).map(function(e){return{filename:e.filename,url:t.mediaUrl+e.fileTotalName,user:e.user}}),console.log(e),t.videoList=e})},changewidth:function(t){var e=this,i=t.target;if("add"===i.parentElement.getAttribute("data-w")){var n=[i.parentElement.children[0],i.parentElement.children[2]],s=n[0],a=n[1];s.classList.remove("widthreduce"),a.classList.remove("widthadd"),s.classList.add("widthadd"),a.classList.add("widthreduce"),i.parentElement.setAttribute("data-w","reduce")}else if("reduce"===i.parentElement.getAttribute("data-w")){var o=[i.parentElement.children[0],i.parentElement.children[2]],r=o[0],c=o[1];c.classList.remove("widthreduce"),r.classList.remove("widthadd"),c.classList.add("widthadd"),r.classList.add("widthreduce"),i.parentElement.setAttribute("data-w","add")}else i.parentElement.setAttribute("data-w","add"),setTimeout(function(){e.changewidth(t)},0)},play:function(t){var e=t.target.parentElement.getAttribute("data-url");this.src=e,console.log(this.src);var i=document.querySelector("video");i.oncanplay=function(){i.play()}}},mounted:function(){this.getdata()}}},M93x:function(t,e,i){"use strict";function n(t){i("Yipf")}var s=i("xJD8"),a=i("/4i9"),o=i("VU/8"),r=n,c=o(s.a,a.a,r,null,null);e.a=c.exports},MiD0:function(t,e,i){"use strict";var n=i("BO1k"),s=i.n(n),a=i("Zrlr"),o=i.n(a),r=i("wxAW"),c=i.n(r),d=i("d7EF"),l=i.n(d),u=i("hYS1");e.a={name:"index",methods:{init:function(){function t(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];if(1===i.length)return t.apply(void 0,[0].concat(i));if(2===i.length)return Math.random()*(i[1]-i[0])+i[0];throw"arguments must less than 2"}function e(t,e){return Math.random()>.5?t:e}function i(){p.fillStyle="rgba(255,255,255,0.1)",p.fillRect(0,0,u,h);var t=!0,e=!1,n=void 0;try{for(var a,o=s()(w);!(t=(a=o.next()).done);t=!0){a.value.draw()}}catch(t){e=!0,n=t}finally{try{!t&&o.return&&o.return()}finally{if(e)throw n}}window.requestAF(i)}var n;window.requestAF=function(t){return window.requestAnimationFrame(t)||window.webkitRequestAnimationFrame(t)||window.mozRequestAnimationFrame(t)||function(t){if("function"!=typeof t)throw"this is not a function";setTimeout(t,1e3/60)}};var a=document.getElementById("drop"),r=(n=[window.innerWidth,window.innerHeight],a.width=n[0],a.height=n[1],n),d=l()(r,2),u=d[0],h=d[1],f=[[30,60],[u-60,u-30]],v=[50,70],m=[h-200,h-125];window.onresize=function(){var t,e=(t=[window.innerWidth,window.innerHeight],a.width=t[0],a.height=t[1],t),i=l()(e,2);u=i[0],h=i[1]};for(var p=a.getContext("2d"),g=function(){function i(){o()(this,i)}return c()(i,[{key:"init",value:function(){this.x=e(t(f[0][0],f[0][1]),t(f[1][0],f[1][0])),this.y=t(v[0],v[1]),this.v_y=t(3,6),this.bottom=t(m[0],m[1]),this.r=t(50,70),this.rv=t(1,2),this.rMax=t(150,200),this.a=".9"}},{key:"draw",value:function(){this.y<this.bottom?(p.fillStyle="rgba(0,255,255,.9)",p.fillRect(this.x,this.y,5,20)):(p.beginPath(),p.arc(this.x,this.y,this.r,0,2*Math.PI,!0),p.strokeStyle="rgba(0,255,255,"+this.a+")",p.stroke()),this.update()}},{key:"update",value:function(){this.y<this.bottom?this.y+=this.v_y:this.r<=this.rMax&&(this.r+=this.rv),this.r>this.rMax-50&&(this.a-=.1,this.r>=this.rMax&&this.init())}}]),i}(),w=[],_=0;_<15;_++){var b=new g;b.init(),w.push(b)}i()}},mounted:function(){this.init()},components:{upload:u.a}}},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("/5sW"),s=i("M93x"),a=i("YaEn");n.a.config.productionTip=!1,new n.a({el:"#app",router:a.a,render:function(t){return t(s.a)}})},QXW3:function(t,e,i){"use strict";function n(t){i("DZMV"),i("jpdm")}var s=i("wcVw"),a=i("nTMs"),o=i("VU/8"),r=n,c=o(s.a,a.a,r,"data-v-f3e4dc86",null);e.a=c.exports},RQC5:function(t,e){},"RY+s":function(t,e){},X7kc:function(t,e,i){"use strict";function n(t){i("8Sqt")}var s=i("+HSz"),a=i("zMYJ"),o=i("VU/8"),r=n,c=o(s.a,a.a,r,null,null);e.a=c.exports},YaEn:function(t,e,i){"use strict";var n=i("/5sW"),s=i("/ocq"),a=i("QXW3"),o=i("dAjm"),r=i("kzMD");n.a.use(s.a),e.a=new s.a({routes:[{path:"/video",component:r.a},{path:"/upload",component:o.a},{path:"/chat",component:a.a}]})},Yipf:function(t,e){},Z97P:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("upload"),t._v(" "),i("canvas",{attrs:{id:"drop"}})],1)},s=[],a={render:n,staticRenderFns:s};e.a=a},"Zp+1":function(t,e,i){"use strict";function n(t){i("RY+s")}var s=i("772a"),a=i("md9t"),o=i("VU/8"),r=n,c=o(s.a,a.a,r,"data-v-6b163a40",null);e.a=c.exports},dAjm:function(t,e,i){"use strict";function n(t){i("g0F4")}var s=i("MiD0"),a=i("Z97P"),o=i("VU/8"),r=n,c=o(s.a,a.a,r,null,null);e.a=c.exports},eCEX:function(t,e){},g0F4:function(t,e){},gQNn:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"player"},[i("svg",{attrs:{width:"100%",height:"100%",preserveAspectRatio:"none",viewBox:"0,0,100,100"}},[i("defs",[i("path",{attrs:{id:"path1",d:"M10,30Q50 100 90 30"}})]),t._v(" "),i("text",{staticStyle:{fill:"rgba(61, 151, 196, 0.67)"},attrs:{x:"10",y:"100"}},[i("textPath",{attrs:{"xlink:href":"#path1"}},[t._v("S w n b")])])]),t._v(" "),i("video",{attrs:{preload:"auto",controls:"",src:t.src}}),t._v(" "),i("div")]),t._v(" "),i("div",{staticClass:" list "},[t._m(0),t._v(" "),t._l(t.videoList,function(e){return i("div",{staticClass:"item ",attrs:{"data-w":"add","data-url":e.url}},[i("div",{staticClass:"user widthreduce ",on:{click:t.play}},[t._v(t._s(e.user))]),t._v(" "),i("div",{staticClass:"iconSpan ",on:{click:t.changewidth}}),t._v(" "),i("div",{staticClass:"filename widthadd ",on:{click:t.play}},[t._v(t._s(e.filename))])])})],2)])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item "},[i("div",[t._v("播放列表")])])}],a={render:n,staticRenderFns:s};e.a=a},gZCx:function(t,e,i){"use strict";var n=i("c/Tr"),s=i.n(n),a=i("X7kc");e.a={name:"hello",data:function(){return{disable:!1,info:"可以上传多个文件...",files:[],percent:0,url:"/upload"}},methods:{addshadow:function(t){t.target.classList.add("click"),"file"===t.target.getAttribute("target")&&(this.info="选择文件中。。。。")},removeshadow:function(t){t.target.classList.remove("click")},getfiles:function(){if(this.files=s()(this.$refs.inputFile.files),0===this.files.length)return void(this.info="请选择文件再传送。。。");this.info="你已经选择了"+this.files.length+"个文件,可以按传送开始传送"},getTotalSize:function(t){return 0===Math.floor(t/1024)?t+"b":Math.floor(t/1024)<1024?Math.round(t/1024)+"kb":Math.round(t/1024/1024)+"M"},getType:function(t){return/\//.test(t)?t.split("/")[1]:t},_xhr:function(){var t=this;this.info="正在传送文件，不可以再选择文件，请等文件传送完毕。。",this.disable=!0;var e=new FormData;this.files.forEach(function(t){e.append(t.name,t)});var i=new XMLHttpRequest;i.open("POST",this.url,!0),i.onreadystatechange=function(){204!=i.status&&(t.info="出现错误，请联系我")},i.upload.onloadstart=function(){window.onbeforeunload=function(t){return void alert("uploading")}},i.upload.onabort=function(){t.info="出现错误，可以刷新重试，也可以联系我"},i.upload.onprogress=function(e){e=e||window.event,t.percent=e.loaded/e.total,1===t.percent&&(t.info="上传完成",t.files=[],t.disable=!1)},i.send(e)},sendFiles:function(){if(this.disable)return!1;0===this.files.length?this.info="请选择文件再传送。。。":this._xhr()}},mounted:function(){},components:{prog:a.a}}},hYS1:function(t,e,i){"use strict";function n(t){i("eCEX")}var s=i("gZCx"),a=i("xYnj"),o=i("VU/8"),r=n,c=o(s.a,a.a,r,"data-v-67565eb4",null);e.a=c.exports},jpdm:function(t,e){},kzMD:function(t,e,i){"use strict";function n(t){i("RQC5")}var s=i("KupL"),a=i("gQNn"),o=i("VU/8"),r=n,c=o(s.a,a.a,r,"data-v-2d275366",null);e.a=c.exports},md9t:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("header",[i("div",{attrs:{id:"open"}}),t._v(" "),i("div",{staticClass:"list"},[i("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/upload"}},[i("span",{staticClass:"tab-link"},[t._v("上传文件")])]),t._v(" "),i("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/video"}},[i("span",{staticClass:"tab-link"},[t._v("电影")])]),t._v(" "),t._m(0),t._v(" "),i("router-link",{staticClass:"tab-item",attrs:{tag:"div",to:"/chat"}},[i("span",{staticClass:"tab-link"},[t._v("聊天")])])],1)]),t._v(" "),i("aside",[i("div",{attrs:{id:"close"}},[t._v("\n      close\n    ")]),t._v(" "),t._m(1),t._v(" "),i("svg",{attrs:{width:"100%",height:"100%",preserveAspectRatio:"none",viewBox:"0,0,100,100"}},[i("path",{attrs:{d:"M0,0 L0,100 Q-50,-50 100,0",fill:"rgba(172, 223, 255,1)"}})])])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("a",{staticStyle:{},attrs:{href:"/"}},[t._v("主页\n        ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"title",attrs:{id:"audio"}},[t._v("audio")]),t._v(" "),i("ul",{staticClass:"list",attrs:{id:"audio_l"}}),t._v(" "),i("div",{staticClass:"title",attrs:{id:"video"}},[t._v("video")]),t._v(" "),i("ul",{staticClass:"list",attrs:{id:"video_l"}})])}],a={render:n,staticRenderFns:s};e.a=a},nTMs:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("div",{staticClass:"container"},t._l(t.messageList,function(e){return i("div",{class:e.class},["info"!==e.class?i("div",{style:{backgroundColor:e.color}}):t._e(),t._v(" "),i("div",{style:{backgroundColor:e.color},attrs:{"data-id":e.id},on:{mouseenter:t.showInfo}},[t._v(t._s(e.message))])])})),t._v(" "),i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputMessage,expression:"inputMessage"}],attrs:{type:"text ",placeholder:"输入"},domProps:{value:t.inputMessage},on:{input:function(e){e.target.composing||(t.inputMessage=e.target.value)}}}),t._v(" "),i("span",[t._v("选择你要的img")]),t._v(" "),i("span",{on:{click:t.sendMessage}},[t._v("输入")])])])},s=[],a={render:n,staticRenderFns:s};e.a=a},wcVw:function(t,e,i){"use strict";e.a={name:"chat",data:function(){return{inputMessage:"",messageList:[],websocket:null,users:{},locked:!1,colors:["pink","orangered","red","cadetblue","lightgoldenrodyellow","lightcoral","#80a6f0","#d25757","rgb(43, 199, 121)"],port:location.port}},methods:{render:function(t){t=JSON.parse(t);var e={};switch(Number(t.code)){case 1:var i=["myself",t.id,t.message,this.users[t.id].color||void console.log("no defined")];e.class=i[0],e.id=i[1],e.message=i[2],e.color=i[3];break;case 2:var n=["info",t.id+"进入聊天室"];if(e.class=n[0],e.message=n[1],t.id in this.users)break;this.setcolor(t.id);break;case 3:var s=["other",t.id,t.message,this.users[t.id].color||void console.log("no defined")];e.class=s[0],e.id=s[1],e.message=s[2],e.color=s[3];break;case 4:var a=["info",t.id+"离开聊天室"];e.class=a[0],e.message=a[1]}this.messageList.push(e)},setcolor:function(t){this.users[t]={color:this.colors[Math.floor(10*Math.random())]}},showInfo:function(t){var e=this;if(!this.locked&&t.target.getAttribute("data-id")){this.locked=!0;var i=t.target.getAttribute("data-id"),n=document.createElement("span");n.innerHTML="<br/>消息来自"+i+"  ",t.target.appendChild(n),setTimeout(function(){e.locked=!1,t.target.removeChild(n)},1e3)}},ws:function(){this.websocket=new WebSocket("ws://"+location.hostname+":"+this.port)},sendMessage:function(){this.websocket&&(this.websocket.send(this.inputMessage),this.inputMessage="")},getColor:function(t){return this.users[t].id}},mounted:function(){var t=this;this.ws(),this.websocket.onmessage=function(e){t.render(e.data)},this.websocket.onclose=function(){console.log("close")}}}},xJD8:function(t,e,i){"use strict";var n=i("Zp+1");e.a={name:"app",components:{tab:n.a}}},xYnj:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",[t._v(t._s(t.info))]),t._v(" "),i("div",{attrs:{id:"outer"}},[i("label",{attrs:{for:"file"},on:{mousedown:t.addshadow,mouseup:t.removeshadow}},[t._v("点击选择")]),t._v(" "),i("div",{staticClass:"content"},[i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputFile",attrs:{disabled:t.disable,type:"file",id:"file",multiple:""},on:{change:t.getfiles}}),t._v(" "),i("div",{staticClass:"list",attrs:{id:"listForFiles"}},[t._m(0),t._v(" "),t._l(t.files,function(e){return i("div",[i("span",[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v(t._s(t.getTotalSize(e.size)))]),t._v(" "),i("span",[t._v(t._s(t.getType(e.type)))])])})],2)]),t._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"button",id:"button"}}),t._v(" "),i("label",{attrs:{for:"button"},on:{mousedown:t.addshadow,mouseup:t.removeshadow,click:t.sendFiles}},[t._v("传送")])]),t._v(" "),i("div",{staticClass:"highest"}),t._v(" "),i("div",{staticClass:"container"},[i("prog",{attrs:{perc:t.percent}})],1)])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",[t._v("名字")]),t._v(" "),i("span",[t._v("大小")]),t._v(" "),i("span",[t._v("属性")])])}],a={render:n,staticRenderFns:s};e.a=a},zMYJ:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{id:"svg",width:"100%",height:"100%",preserveAspectRatio:"none",viewBox:"0,0,100,100"}},[i("path",{attrs:{d:t.d,fill:"#0ebef9","fill-opacity":"0.75"}}),t._v(" "),i("path",{attrs:{id:"topLeft",d:"M50 0 L0 0 L0 50L2 50Q0 0 50 2L50 0",fill:"white"}}),t._v(" "),i("path",{attrs:{id:"topRight",d:"M50 0 L100 0 L100 50L98 50Q100 0 50 2L50 0",fill:"white"}}),t._v(" "),i("path",{attrs:{id:"bottomLeft",d:"M0 50L0 100 L50 100L50 98Q0 100 2 50L0 50",fill:"white"}}),t._v(" "),i("path",{attrs:{id:"bottomRight",d:"M100 50L100 100L50 100L50 98Q100 100 98 50L100 50",fill:"white"}}),t._v(" "),i("path",{attrs:{id:"border",d:"M50 2Q0 0 2 50Q0 100 50 98Q100 100 98 50Q100 0 50 2",fill:"none",stroke:"#0ab8f3","stroke-width":"1"}})])},s=[],a={render:n,staticRenderFns:s};e.a=a}},["NHnr"]);
//# sourceMappingURL=app.addae8c5fc7ccfa0a0d4.js.map